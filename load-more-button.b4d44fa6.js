function e(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=r.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,r.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,r){n[e]=r},r.parcelRequired7c6=a);var s=a("iQIUW"),i=a("dSs1Y"),l=a("fZKcF"),o=a("iGUrG"),d=a("kP3O0"),u=a("h5xPl");"dark"===localStorage.getItem("them")&&(0,d.handlerDark)();let c=null,f=null;const h=new(e(l))(".gallery a");o.elements.form.addEventListener("submit",(function(e){if(e.preventDefault(),o.elements.box.innerHTML="",f=null,c=1,f=e.currentTarget.elements.searchQuery.value.trim().split(" ").filter((e=>""!==e)).join("+").toLowerCase(),e.currentTarget.elements.searchQuery.value=f.split("+").join(" "),""===f)return s.Notify.warning("We can't find this, because you haven't entered anything. Please try again.");(0,u.serviceImgs)(f,c).then((({data:{totalHits:e,hits:r}})=>{if(0===e)return s.Notify.failure("Sorry, there are no images matching your search query. Please try again.");s.Notify.success(`Hooray! We found ${e} images.`),(0,d.createMarkup)(r),h.refresh(),c<e/u.perPage?o.elements.loadMoreBtn.classList.remove("visually-hidden"):(o.elements.guard.classList.remove("visually-hidden"),g.observe(o.elements.guard))})).catch((e=>s.Notify.failure(e.message))).finally((()=>i.Loading.remove()))})),o.elements.loadMoreBtn.addEventListener("click",(function(){c++,(0,u.serviceImgs)(f,c).then((({data:{totalHits:e,hits:r}})=>{(0,d.createMarkup)(r),h.refresh(),c>=e/u.perPage&&(o.elements.loadMoreBtn.classList.add("visually-hidden"),o.elements.guard.classList.remove("visually-hidden"),g.observe(o.elements.guard))})).catch((e=>s.Notify.failure(e.message))).finally((()=>i.Loading.remove()))})),o.elements.lightThemBtn.addEventListener("click",d.handlerLight),o.elements.darkThemBtn.addEventListener("click",d.handlerDark);const g=new IntersectionObserver((function(e){e.forEach((e=>{e.isIntersecting&&(s.Notify.warning("We're sorry, but you've reached the end of search results."),g.unobserve(o.elements.guard),o.elements.guard.classList.add("visually-hidden"))}))}),{rootMargin:"10px"});
//# sourceMappingURL=load-more-button.b4d44fa6.js.map
