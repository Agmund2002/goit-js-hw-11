!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},t={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in t){var n=t[e];delete t[e];var a={id:e,exports:{}};return r[e]=a,n.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){t[e]=n},n.parcelRequired7c6=a);var i=a("h6c0i"),s=a("7rQOT"),l=a("5IjG7"),o=a("bcAb9"),u=a("jzNL2"),d=a("LjDjN");"dark"===localStorage.getItem("them")&&(0,u.handlerDark)();var c=null,f=null,h=new(e(l))(".gallery a");o.elements.form.addEventListener("submit",(function(e){if(e.preventDefault(),o.elements.box.innerHTML="",f=null,c=1,f=e.currentTarget.elements.searchQuery.value.trim().split(" ").filter((function(e){return""!==e})).join("+").toLowerCase(),e.currentTarget.elements.searchQuery.value=f.split("+").join(" "),""===f)return i.Notify.warning("We can't find this, because you haven't entered anything. Please try again.");(0,d.serviceImgs)(f,c).then((function(e){var n=e.data,r=n.totalHits,t=n.hits;if(0===r)return i.Notify.failure("Sorry, there are no images matching your search query. Please try again.");i.Notify.success("Hooray! We found ".concat(r," images.")),(0,u.createMarkup)(t),h.refresh(),c<r/d.perPage?o.elements.loadMoreBtn.classList.remove("visually-hidden"):(o.elements.guard.classList.remove("visually-hidden"),g.observe(o.elements.guard))})).catch((function(e){return i.Notify.failure(e.message)})).finally((function(){return s.Loading.remove()}))})),o.elements.loadMoreBtn.addEventListener("click",(function(){c++,(0,d.serviceImgs)(f,c).then((function(e){var n=e.data,r=n.totalHits,t=n.hits;(0,u.createMarkup)(t),h.refresh(),c>=r/d.perPage&&(o.elements.loadMoreBtn.classList.add("visually-hidden"),o.elements.guard.classList.remove("visually-hidden"),g.observe(o.elements.guard))})).catch((function(e){return i.Notify.failure(e.message)})).finally((function(){return s.Loading.remove()}))})),o.elements.lightThemBtn.addEventListener("click",u.handlerLight),o.elements.darkThemBtn.addEventListener("click",u.handlerDark);var g=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&(i.Notify.warning("We're sorry, but you've reached the end of search results."),g.unobserve(o.elements.guard),o.elements.guard.classList.add("visually-hidden"))}))}),{rootMargin:"10px"})}();
//# sourceMappingURL=load-more-button.7e286cd8.js.map
